<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>AWSCognitoCredentialsProvider Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1333)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">AWS Mobile SDK for iOS v2.12.0 </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Amazon Web Services, Inc.</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/identityProvider">identityProvider</option>
		
	</optgroup>
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/clearCredentials">- clearCredentials</option>
		
		<option value="//api/name/clearKeychain">- clearKeychain</option>
		
		<option value="//api/name/credentials">- credentials</option>
		
		<option value="//api/name/getIdentityId">- getIdentityId</option>
		
		<option value="//api/name/identityId">- identityId</option>
		
		<option value="//api/name/identityPoolId">- identityPoolId</option>
		
		<option value="//api/name/initWithRegionType:identityPoolId:">- initWithRegionType:identityPoolId:</option>
		
		<option value="//api/name/initWithRegionType:identityPoolId:identityProviderManager:">- initWithRegionType:identityPoolId:identityProviderManager:</option>
		
		<option value="//api/name/initWithRegionType:identityPoolId:unauthRoleArn:authRoleArn:identityProviderManager:">- initWithRegionType:identityPoolId:unauthRoleArn:authRoleArn:identityProviderManager:</option>
		
		<option value="//api/name/initWithRegionType:identityProvider:">- initWithRegionType:identityProvider:</option>
		
		<option value="//api/name/initWithRegionType:unauthRoleArn:authRoleArn:identityProvider:">- initWithRegionType:unauthRoleArn:authRoleArn:identityProvider:</option>
		
		<option value="//api/name/invalidateCachedTemporaryCredentials">- invalidateCachedTemporaryCredentials</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">AWSCognitoCredentialsProvider Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Conforms to</th>
	<td><a href="../Protocols/AWSCredentialsProvider.html">AWSCredentialsProvider</a></td>
</tr><tr>
	<th>Declared in</th>
	<td>AWSCredentialsProvider.h<br />AWSCredentialsProvider.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>An AWSCredentialsProvider that uses Amazon Cognito to fetch temporary credentials tied to an identity.</p>

<p>To learn more about Amazon Cognito, please visit <a href="https://aws.amazon.com/cognito">https://aws.amazon.com/cognito</a>.</p>

<p>There are 3 different flows supported by this credentials provider, see factory and init methods for choosing the right one for your use case:</p>

<ol>
<li>Enhanced flow: Uses Cognito for all operations and only requires an identity pool id to initialize.</li>
<li>Basic flow: Uses Cognito + STS and requires identity pool plus IAM roles</li>
<li>Developer authenticated identities: Uses your own AWSCognitoCredentialsProviderHelper to establish identity +
Cognito (and optionally STS) to establish credentials.</li>
</ol>

					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/initWithRegionType:identityPoolId:" title="initWithRegionType:identityPoolId:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithRegionType:identityPoolId:">&ndash;&nbsp;initWithRegionType:identityPoolId:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializer for credentials provider with enhanced authentication flow. This is the recommended constructor for first time Amazon Cognito developers. Will create an instance of <code>AWSEnhancedCognitoIdentityProvider</code>.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithRegionType:(AWSRegionType)<em>regionType</em> identityPoolId:(NSString *)<em>identityPoolId</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>regionType</code></th>
						<td><p>The region in which your identity pool exists.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>identityPoolId</code></th>
						<td><p>The identity pool id for this provider. Value is used to communicate with Amazon Cognito as well as namespace values stored in the keychain.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/initWithRegionType:identityPoolId:identityProviderManager:" title="initWithRegionType:identityPoolId:identityProviderManager:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithRegionType:identityPoolId:identityProviderManager:">&ndash;&nbsp;initWithRegionType:identityPoolId:identityProviderManager:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializer for credentials provider with enhanced authentication flow. This is the recommended method for first time Amazon Cognito developers. Will create an instance of <code>AWSEnhancedCognitoIdentityProvider</code>.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithRegionType:(AWSRegionType)<em>regionType</em> identityPoolId:(NSString *)<em>identityPoolId</em> identityProviderManager:(nullable id&lt;AWSIdentityProviderManager&gt;)<em>identityProviderManager</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>regionType</code></th>
						<td><p>The region in which your identity pool exists.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>identityPoolId</code></th>
						<td><p>The identity pool id for this provider. Value is used to communicate with Amazon Cognito as well as namespace values stored in the keychain.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>identityProviderManager</code></th>
						<td><p>An object that conforms to the <code>AWSIdentityProviderManager</code> protocol. It should return a valid <code>login</code> dictionary when requested. Can be nil if identity is unauthenticated.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/initWithRegionType:identityProvider:" title="initWithRegionType:identityProvider:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithRegionType:identityProvider:">&ndash;&nbsp;initWithRegionType:identityProvider:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializer for credentials provider with pre-created <code>AWSCognitoCredentialsProviderHelper</code>. Use this method when using developer authenticated identities.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithRegionType:(AWSRegionType)<em>regionType</em> identityProvider:(id&lt;AWSCognitoCredentialsProviderHelper&gt;)<em>identityProvider</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>regionType</code></th>
						<td><p>The region in which your identity pool exists.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>identityProvider</code></th>
						<td><p>Implementation of AWSCognitoCredentialsProviderHelper which is responsible for acquiring identity id and (optionally) OpenId Connect token.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/initWithRegionType:unauthRoleArn:authRoleArn:identityProvider:" title="initWithRegionType:unauthRoleArn:authRoleArn:identityProvider:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithRegionType:unauthRoleArn:authRoleArn:identityProvider:">&ndash;&nbsp;initWithRegionType:unauthRoleArn:authRoleArn:identityProvider:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializer for credentials provider with pre-created <code>AWSCognitoCredentialsProviderHelper</code>. Only use this method if you need to set your IAM roles client side and use developer authenticated identities</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithRegionType:(AWSRegionType)<em>regionType</em> unauthRoleArn:(NSString *)<em>unauthRoleArn</em> authRoleArn:(NSString *)<em>authRoleArn</em> identityProvider:(id&lt;AWSCognitoCredentialsProviderHelper&gt;)<em>identityProvider</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>regionType</code></th>
						<td><p>The region in which your identity pool exists.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>unauthRoleArn</code></th>
						<td><p>The role ARN to use when getting credentials for unauthenticated identities. Provider will check the <code>isAuthenticated</code> property of the identity provider to determine which role to use. Can be nil if unauthenticated identities are not supported or if using enhanced authentication flow.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>authRoleArn</code></th>
						<td><p>The role ARN to use when getting credentials for authenticated identities. Provider will check the <code>isAuthenticated</code> property of the identity provider to determine which role to use. Can be nil if authenticated identities are not supported or if using enhanced authentication flow.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>identityProvider</code></th>
						<td><p>Implementation of AWSCognitoCredentialsProviderHelper which is responsible for acquiring identity id and (optionally) OpenId Connect token.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/initWithRegionType:identityPoolId:unauthRoleArn:authRoleArn:identityProviderManager:" title="initWithRegionType:identityPoolId:unauthRoleArn:authRoleArn:identityProviderManager:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithRegionType:identityPoolId:unauthRoleArn:authRoleArn:identityProviderManager:">&ndash;&nbsp;initWithRegionType:identityPoolId:unauthRoleArn:authRoleArn:identityProviderManager:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Initializer for credentials provider with basic auth flow. Only use this method if you still need to set your IAM roles client side. This method will create an instance of <code>AWSBasicCognitoIdentityProvider</code>.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithRegionType:(AWSRegionType)<em>regionType</em> identityPoolId:(NSString *)<em>identityPoolId</em> unauthRoleArn:(nullable NSString *)<em>unauthRoleArn</em> authRoleArn:(nullable NSString *)<em>authRoleArn</em> identityProviderManager:(nullable id&lt;AWSIdentityProviderManager&gt;)<em>identityProviderManager</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>regionType</code></th>
						<td><p>The region in which your identity pool exists.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>identityPoolId</code></th>
						<td><p>The identity pool id for this provider. Value is used to communicate with Amazon Cognito as well as namespace values stored in the keychain.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>unauthRoleArn</code></th>
						<td><p>The role ARN to use when getting credentials for unauthenticated identities. Provider will check the <code>isAuthenticated</code> property of the identity provider to determine which role to use. Can be nil if unauthenticated identities are not supported.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>authRoleArn</code></th>
						<td><p>The role ARN to use when getting credentials for authenticated identities. Provider will check the <code>isAuthenticated</code> property of the identity provider to determine which role to use. Can be nil if authenticated identities are not supported.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>identityProviderManager</code></th>
						<td><p>An object that conforms to the <code>AWSIdentityProviderManager</code> protocol. It should return a valid <code>login</code> dictionary when requested. Can be nil if identity is unauthenticated.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/credentials" title="credentials"></a>
	<h3 class="method-title"><code><a href="#//api/name/credentials">&ndash;&nbsp;credentials</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Asynchronously returns a valid AWS credentials or an error object if it cannot retrieve valid credentials. It should cache valid credentials as much as possible and refresh them when they are invalid.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask&lt;AWSCredentials*&gt; *)credentials</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>A valid AWS credentials or an error object describing the error.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/invalidateCachedTemporaryCredentials" title="invalidateCachedTemporaryCredentials"></a>
	<h3 class="method-title"><code><a href="#//api/name/invalidateCachedTemporaryCredentials">&ndash;&nbsp;invalidateCachedTemporaryCredentials</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Invalidates the cached temporary AWS credentials. If the credentials provider does not cache temporary credentials, this operation is a no-op.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)invalidateCachedTemporaryCredentials</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/getIdentityId" title="getIdentityId"></a>
	<h3 class="method-title"><code><a href="#//api/name/getIdentityId">&ndash;&nbsp;getIdentityId</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Get/retrieve the identity id for this provider. If an identity id is already set on this provider, no remote call is made and the identity will be returned as a result of the AWSTask (the identityId is also available as a property). If no identityId is set on this provider, one will be retrieved from the service.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask&lt;NSString*&gt; *)getIdentityId</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/clearKeychain" title="clearKeychain"></a>
	<h3 class="method-title"><code><a href="#//api/name/clearKeychain">&ndash;&nbsp;clearKeychain</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Clear ALL saved values for this provider (identityId, credentials, logins).</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)clearKeychain</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/clearCredentials" title="clearCredentials"></a>
	<h3 class="method-title"><code><a href="#//api/name/clearCredentials">&ndash;&nbsp;clearCredentials</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Clear the cached AWS credentials for this provider.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)clearCredentials</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/identityPoolId" title="identityPoolId"></a>
	<h3 class="method-title"><code><a href="#//api/name/identityPoolId">&ndash;&nbsp;identityPoolId</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The identity pool id associated with this provider. Also used to create a namedspaced keychain area to store identity id and credentials.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSString *)identityPoolId</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/identityId" title="identityId"></a>
	<h3 class="method-title"><code><a href="#//api/name/identityId">&ndash;&nbsp;identityId</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The identity id associated with this provider. This value will be fetched from the keychain at startup. If you do not want to reuse the existing identity id, you must call the clearKeychain method.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (NSString *)identityId</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/identityProvider" title="identityProvider"></a>
	<h3 class="method-title"><code><a href="#//api/name/identityProvider">&nbsp;&nbsp;identityProvider</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The identityProvider which is responsible for establishing the identity id and (optionally) the open id token for use in the Amazon Cognito authflow.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, strong, readonly) id&lt;AWSCognitoCredentialsProviderHelper&gt; identityProvider</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSCredentialsProvider.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2019 Amazon Web Services, Inc. All rights reserved. Updated: 2019-10-11</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1333)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>