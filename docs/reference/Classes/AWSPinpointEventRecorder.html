<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>AWSPinpointEventRecorder Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1333)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">AWS Mobile SDK for iOS v2.12.0 </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Amazon Web Services, Inc.</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	
	<optgroup label="Properties">
		
		<option value="//api/name/batchRecordsByteLimit">batchRecordsByteLimit</option>
		
		<option value="//api/name/diskAgeLimit">diskAgeLimit</option>
		
		<option value="//api/name/diskByteLimit">diskByteLimit</option>
		
		<option value="//api/name/diskBytesUsed">diskBytesUsed</option>
		
		<option value="//api/name/notificationByteThreshold">notificationByteThreshold</option>
		
		<option value="//api/name/submissionInProgress">submissionInProgress</option>
		
	</optgroup>
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/buildRequestPayload:endpointPayload:endpointId:eventsPayload:">- buildRequestPayload:endpointPayload:endpointId:eventsPayload:</option>
		
		<option value="//api/name/getDirtyEvents">- getDirtyEvents</option>
		
		<option value="//api/name/getDirtyEventsWithLimit:">- getDirtyEventsWithLimit:</option>
		
		<option value="//api/name/getEvents">- getEvents</option>
		
		<option value="//api/name/getEventsWithLimit:">- getEventsWithLimit:</option>
		
		<option value="//api/name/removeAllDirtyEvents">- removeAllDirtyEvents</option>
		
		<option value="//api/name/removeAllEvents">- removeAllEvents</option>
		
		<option value="//api/name/saveEvent:">- saveEvent:</option>
		
		<option value="//api/name/submitAllEvents">- submitAllEvents</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">AWSPinpointEventRecorder Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td><a href="../Classes/AWSService.html">AWSService</a> : NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>AWSPinpointEventRecorder.h<br />AWSPinpointEventRecorder.m</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p><code>AWSPinpointEventRecorder</code> stores events to a local SQLite database and submits them to Pinpoint.</p>

<p>This is the low level client used to record events to local storage.</p>

<p>You should only use this class for more advanced controls over your events stored locally. Please use <code>AWSPinpointAnalyticsClient</code> for recording events.</p>

<p>According to the limit &ldquo;Maximum number events in a request&rdquo;
defined in https://docs.aws.amazon.com/pinpoint/latest/developerguide/limits.html</p>
					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/diskBytesUsed" title="diskBytesUsed"></a>
	<h3 class="method-title"><code><a href="#//api/name/diskBytesUsed">&nbsp;&nbsp;diskBytesUsed</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The number of bytes currently used to store AWSPinpointEvent objects on disk.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign, readonly) uint64_t diskBytesUsed</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/notificationByteThreshold" title="notificationByteThreshold"></a>
	<h3 class="method-title"><code><a href="#//api/name/notificationByteThreshold">&nbsp;&nbsp;notificationByteThreshold</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The threshold of disk bytes for notification. When exceeded, <code>saveEvent:</code> posts AWSPinpointEventByteThresholdReachedNotification. The default is 0 meaning it will not post the notification.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) NSUInteger notificationByteThreshold</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>The <code>notificationByteThreshold</code> should be smaller than <code>diskByteLimit</code>.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/diskByteLimit" title="diskByteLimit"></a>
	<h3 class="method-title"><code><a href="#//api/name/diskByteLimit">&nbsp;&nbsp;diskByteLimit</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The limit of the disk cache size in bytes. When exceeded, older requests will be discarded. Setting this value to 0.0 meaning no practical limit. The default value is 5MB.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) NSUInteger diskByteLimit</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/diskAgeLimit" title="diskAgeLimit"></a>
	<h3 class="method-title"><code><a href="#//api/name/diskAgeLimit">&nbsp;&nbsp;diskAgeLimit</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The age limit of the cached requests. When exceeded, requests older than the specified age will be discarded. Setting this value to 0 meaning no practical limit. The default is no age limit.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) NSTimeInterval diskAgeLimit</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/submissionInProgress" title="submissionInProgress"></a>
	<h3 class="method-title"><code><a href="#//api/name/submissionInProgress">&nbsp;&nbsp;submissionInProgress</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Indicates if submission of events is in progress, only one submission of events is allowed at a time.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) BOOL submissionInProgress</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/batchRecordsByteLimit" title="batchRecordsByteLimit"></a>
	<h3 class="method-title"><code><a href="#//api/name/batchRecordsByteLimit">&nbsp;&nbsp;batchRecordsByteLimit</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>The maxium batch data size in bytes. The default value is 512KB. The maximum is 4MB.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>@property (nonatomic, assign) NSUInteger batchRecordsByteLimit</code></div>

		    
			

			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/saveEvent:" title="saveEvent:"></a>
	<h3 class="method-title"><code><a href="#//api/name/saveEvent:">&ndash;&nbsp;saveEvent:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Saves an event to local storage to be sent later.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask&lt;AWSPinpointEvent*&gt; *)saveEvent:(AWSPinpointEvent *)<em>event</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>event</code></th>
						<td><p>The event to send to Amazon Pinpoint.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask - task.result contains the saved event.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/getEvents" title="getEvents"></a>
	<h3 class="method-title"><code><a href="#//api/name/getEvents">&ndash;&nbsp;getEvents</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Retrieves events in local storage with a limit of 100 events (the limit per batch).</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask&lt;NSArray&lt;AWSPinpointEvent*&gt; *&gt; *)getEvents</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask - task.result contains an array of AWSPinpointEvent objects.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/getEventsWithLimit:" title="getEventsWithLimit:"></a>
	<h3 class="method-title"><code><a href="#//api/name/getEventsWithLimit:">&ndash;&nbsp;getEventsWithLimit:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Retrieves events in local storage with the specified limit.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask&lt;NSArray&lt;AWSPinpointEvent*&gt; *&gt; *)getEventsWithLimit:(NSNumber *)<em>limit</em></code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask - task.result contains an array of AWSPinpointEvent objects.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/getDirtyEvents" title="getDirtyEvents"></a>
	<h3 class="method-title"><code><a href="#//api/name/getDirtyEvents">&ndash;&nbsp;getDirtyEvents</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Retrieves dirty events in local storage with a limit of 100 events (the limit per batch).</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask&lt;NSArray&lt;AWSPinpointEvent*&gt; *&gt; *)getDirtyEvents</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask - task.result contains an array of AWSPinpointEvent objects.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/getDirtyEventsWithLimit:" title="getDirtyEventsWithLimit:"></a>
	<h3 class="method-title"><code><a href="#//api/name/getDirtyEventsWithLimit:">&ndash;&nbsp;getDirtyEventsWithLimit:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Retrieves dirty events in local storage with the specified limit.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask&lt;NSArray&lt;AWSPinpointEvent*&gt; *&gt; *)getDirtyEventsWithLimit:(NSNumber *)<em>limit</em></code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask - task.result contains an array of AWSPinpointEvent objects.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/submitAllEvents" title="submitAllEvents"></a>
	<h3 class="method-title"><code><a href="#//api/name/submitAllEvents">&ndash;&nbsp;submitAllEvents</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Submits all locally saved events to Amazon Pinpoint. Events that are successfully sent will be deleted from the device. Events that fail due to the device being offline will stop the submission process and be kept. Events that fail due to other reasons (such as the event being invalid) will be marked dirty and moved to a dirty table.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask&lt;NSArray&lt;AWSPinpointEvent*&gt; *&gt; *)submitAllEvents</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask - task.result contains an array of AWSPinpointEvent objects that were submitted.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/removeAllEvents" title="removeAllEvents"></a>
	<h3 class="method-title"><code><a href="#//api/name/removeAllEvents">&ndash;&nbsp;removeAllEvents</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Removes all events saved to disk.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask *)removeAllEvents</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask - task.result is always nil.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/removeAllDirtyEvents" title="removeAllDirtyEvents"></a>
	<h3 class="method-title"><code><a href="#//api/name/removeAllDirtyEvents">&ndash;&nbsp;removeAllDirtyEvents</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Removes all dirty events saved to disk.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSTask *)removeAllDirtyEvents</code></div>

		    
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>AWSTask - task.result is always nil.</p>
			</div>
			

			

			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						

						
						<h2 class="task-title">Other Methods</h2>

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/buildRequestPayload:endpointPayload:endpointId:eventsPayload:" title="buildRequestPayload:endpointPayload:endpointId:eventsPayload:"></a>
	<h3 class="method-title"><code><a href="#//api/name/buildRequestPayload:endpointPayload:endpointId:eventsPayload:">&ndash;&nbsp;buildRequestPayload:endpointPayload:endpointId:eventsPayload:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Build the request payload by aggregating the endpoint payload and
the events payload in the following format:</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (AWSPinpointTargetingPutEventsRequest *)buildRequestPayload:(NSString *)<em>applicationId</em> endpointPayload:(AWSPinpointTargetingPublicEndpoint *)<em>endpoint</em> endpointId:(NSString *)<em>endpointId</em> eventsPayload:(NSDictionary *)<em>events</em></code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>&ldquo;PutEventsRequest&rdquo;: {
&ldquo;ApplicationId:: "String&rdquo;,
&ldquo;EventsRequest&rdquo;: {
&ldquo;BatchItem&rdquo;: &ldquo;[String, EventsBatch]&rdquo;
}
}</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">AWSPinpointEventRecorder.m</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2019 Amazon Web Services, Inc. All rights reserved. Updated: 2019-10-11</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1333)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>